<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>Personal Space</title>
    <link rel="stylesheet" type="text/css" href="/css/main.css" />
</head>


<form method="POST">
    <input type="hidden" value="ModifyNickName" name="postFlag">
    <input type="hidden" value="{{.UserName}}" name="admin">
    <div><h1>用户名:</h1> {{.UserName}}</div>
    <label><h1>昵称:</h1>
        <input type="text" value="{{.NickName}}" name="nickname">
    </label>
    <div style="padding-top: 10px"><input type="submit" value="修改"></div>
</form>

<form method="POST" enctype="multipart/form-data">
    <input type="hidden" value="ModifyImage" name="postFlag">
    <input type="hidden" value="{{.UserName}}" name="admin">
    <h1>头像:</h1>
    <img src="{.Image}}">
    <div><a href="javascript:;"><img id="image" src="{{.Image}}" alt="No Image" onclick="clickInput()"></a><input class="hide" type="file" name="image" id="input" onchange="changeImg()" ></div>
    <div style="padding-top: 10px"><input type="submit" value="修改"></div>
</form>



<script>
    function clickInput(){
        let input = document.getElementById("input");
        input.click();
    }

    function changeImg(){
        let img = new Image()
        img.onload=function(){
            document.getElementById("image").src = this.src
        }
        img.src=(window.URL||window.webkitURL).createObjectURL(input.files[0])
    }
</script>
</body>
</html>
